RewriteEngine On

# Handle Angular and React Router
RewriteBase /
RewriteRule ^index\.html$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]

# Set proper MIME types for JavaScript modules
<Files "*.js">
    Header set Content-Type "text/javascript"
</Files>

<Files "*.mjs">
    Header set Content-Type "text/javascript"
</Files>

# Enable compression and set cache headers
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/x-javascript
</IfModule>

# Set MIME types
AddType text/javascript .js
AddType text/javascript .mjs
AddType text/css .css
